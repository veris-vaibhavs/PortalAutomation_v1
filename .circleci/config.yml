version: 2.1
orbs:
  browser-tools: circleci/browser-tools@1.1
jobs:
   test:
    working_directory: ~/circleci-python
    docker:
      # - image: "circleci/python:jessie-node-browsers"
      - image: "cimg/python:3.9-browsers"
    steps:
      - checkout
      - run: whereis chromedriver
      - run: find /usr/bin/google-chrome
      # - run: wget https://chromedriver.storage.googleapis.com/102.0.5005.27/chromedriver_linux64.zip && unzip chromedriver_linux64.zip
      # - run: wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb && dpkg -i google-chrome-stable_current_amd64.deb
      - run: pip install -r requirements.txt
      - run: pytest -v -s --html=report.html Tests/test_LoginPage.py --self-contained-html --capture=sys -rP -rF
workflows:
  test:
    jobs:
      - test